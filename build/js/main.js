"use strict";

(function () {
  function startCountdown(endTime) {
    var daysEls = document.querySelectorAll(".timer__days-item");
    var hoursEls = document.querySelectorAll(".timer__hours-item");
    var minutesEls = document.querySelectorAll(".timer__minutes-item");
    function updateTimer() {
      var now = new Date().getTime();
      var timeLeft = endTime - now;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        updateDigits(daysEls, "00");
        updateDigits(hoursEls, "00");
        updateDigits(minutesEls, "00");
        return;
      }
      var days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
      var hours = Math.floor(timeLeft / (1000 * 60 * 60) % 24);
      var minutes = Math.floor(timeLeft / (1000 * 60) % 60);
      updateDigits(daysEls, String(days).padStart(2, "0"));
      updateDigits(hoursEls, String(hours).padStart(2, "0"));
      updateDigits(minutesEls, String(minutes).padStart(2, "0"));
    }
    function updateDigits(elements, value) {
      elements[0].textContent = value[0];
      elements[1].textContent = value[1];
    }
    updateTimer();
    var timerInterval = setInterval(updateTimer, 60000);
  }
  var now = new Date();
  var endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59).getTime();
  startCountdown(endOfMonth);
  function startSmoke(carSelector, smokeClass, maxCount, interval, delay, fadeTime, removeDelay) {
    var extraClass = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';
    var car = document.querySelector(carSelector);
    if (!car || !car.parentElement.parentElement.classList.contains("_active")) return;
    function createSmoke() {
      if (car.querySelectorAll(".".concat(smokeClass).concat(extraClass ? ".".concat(extraClass) : '')).length < maxCount) {
        var smoke = document.createElement('div');
        smoke.classList.add(smokeClass);
        if (extraClass) smoke.classList.add(extraClass);
        car.appendChild(smoke);
        setTimeout(function () {
          return smoke.classList.add("_opacity");
        }, fadeTime);
        setTimeout(function () {
          return smoke.remove();
        }, fadeTime + removeDelay);
      }
    }
    createSmoke();
    setTimeout(createSmoke, delay);
    setInterval(function () {
      createSmoke();
      setTimeout(createSmoke, delay);
    }, interval);
  }
  startSmoke('.race__bolid-car', 'race__bolid-smoke-front', 2, 900, 500, 100, 800);
  startSmoke('.race__bolid-car', 'race__bolid-smoke-back', 4, 900, 500, 100, 800);
  startSmoke('.race__bolid-car', 'race__bolid-smoke-back', 2, 900, 500, 100, 800, "_large");
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic3RhcnRDb3VudGRvd24iLCJlbmRUaW1lIiwiZGF5c0VscyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImhvdXJzRWxzIiwibWludXRlc0VscyIsInVwZGF0ZVRpbWVyIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJ0aW1lTGVmdCIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lckludGVydmFsIiwidXBkYXRlRGlnaXRzIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsImhvdXJzIiwibWludXRlcyIsIlN0cmluZyIsInBhZFN0YXJ0IiwiZWxlbWVudHMiLCJ2YWx1ZSIsInRleHRDb250ZW50Iiwic2V0SW50ZXJ2YWwiLCJlbmRPZk1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInN0YXJ0U21va2UiLCJjYXJTZWxlY3RvciIsInNtb2tlQ2xhc3MiLCJtYXhDb3VudCIsImludGVydmFsIiwiZGVsYXkiLCJmYWRlVGltZSIsInJlbW92ZURlbGF5IiwiZXh0cmFDbGFzcyIsImNhciIsInF1ZXJ5U2VsZWN0b3IiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjcmVhdGVTbW9rZSIsImxlbmd0aCIsInNtb2tlIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFlBQVc7RUFDUixTQUFTQSxjQUFjLENBQUNDLE9BQU8sRUFBRTtJQUM3QixJQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7SUFDOUQsSUFBTUMsUUFBUSxHQUFHRixRQUFRLENBQUNDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDO0lBQ2hFLElBQU1FLFVBQVUsR0FBR0gsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQztJQUVwRSxTQUFTRyxXQUFXLEdBQUc7TUFDbkIsSUFB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LFNBQVMsQ0FBQ00sR0FBRyxDQUFDaEIsVUFBVSxDQUFDO1FBQy9CLElBQUlNLFVBQVUsRUFBRVEsS0FBSyxDQUFDSixTQUFTLENBQUNNLEdBQUcsQ0FBQ1YsVUFBVSxDQUFDO1FBQy9DQyxHQUFHLENBQUNVLFdBQVcsQ0FBQ0gsS0FBSyxDQUFDO1FBQ3RCSSxVQUFVLENBQUM7VUFBQSxPQUFNSixLQUFLLENBQUNKLFNBQVMsQ0FBQ00sR0FBRyxDQUFDLFVBQVUsQ0FBQztRQUFBLEdBQUVaLFFBQVEsQ0FBQztRQUMzRGMsVUFBVSxDQUFDO1VBQUEsT0FBTUosS0FBSyxDQUFDSyxNQUFNLEVBQUU7UUFBQSxHQUFFZixRQUFRLEdBQUdDLFdBQVcsQ0FBQztNQUM1RDtJQUNKO0lBQ0FPLFdBQVcsRUFBRTtJQUNiTSxVQUFVLENBQUNOLFdBQVcsRUFBRVQsS0FBSyxDQUFDO0lBQzlCVCxXQUFXLENBQUMsWUFBTTtNQUNka0IsV0FBVyxFQUFFO01BQ2JNLFVBQVUsQ0FBQ04sV0FBVyxFQUFFVCxLQUFLLENBQUM7SUFDbEMsQ0FBQyxFQUFFRCxRQUFRLENBQUM7RUFDaEI7RUFDQUosVUFBVSxDQUFDLGtCQUFrQixFQUFFLHlCQUF5QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7RUFDaEZBLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0VBQy9FQSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsd0JBQXdCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUM7QUFJN0YsQ0FBQyxHQUFHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCl7XG4gICAgZnVuY3Rpb24gc3RhcnRDb3VudGRvd24oZW5kVGltZSkge1xuICAgICAgICBjb25zdCBkYXlzRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50aW1lcl9fZGF5cy1pdGVtXCIpO1xuICAgICAgICBjb25zdCBob3Vyc0VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGltZXJfX2hvdXJzLWl0ZW1cIik7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXNFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRpbWVyX19taW51dGVzLWl0ZW1cIik7XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZXIoKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVMZWZ0ID0gZW5kVGltZSAtIG5vdztcblxuICAgICAgICAgICAgaWYgKHRpbWVMZWZ0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURpZ2l0cyhkYXlzRWxzLCBcIjAwXCIpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURpZ2l0cyhob3Vyc0VscywgXCIwMFwiKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEaWdpdHMobWludXRlc0VscywgXCIwMFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHRpbWVMZWZ0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcigodGltZUxlZnQgLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KTtcbiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0aW1lTGVmdCAvICgxMDAwICogNjApKSAlIDYwKTtcblxuICAgICAgICAgICAgdXBkYXRlRGlnaXRzKGRheXNFbHMsIFN0cmluZyhkYXlzKS5wYWRTdGFydCgyLCBcIjBcIikpO1xuICAgICAgICAgICAgdXBkYXRlRGlnaXRzKGhvdXJzRWxzLCBTdHJpbmcoaG91cnMpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG4gICAgICAgICAgICB1cGRhdGVEaWdpdHMobWludXRlc0VscywgU3RyaW5nKG1pbnV0ZXMpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVEaWdpdHMoZWxlbWVudHMsIHZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50c1swXS50ZXh0Q29udGVudCA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgZWxlbWVudHNbMV0udGV4dENvbnRlbnQgPSB2YWx1ZVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVRpbWVyKCk7XG4gICAgICAgIGNvbnN0IHRpbWVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVUaW1lciwgNjAwMDApO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZW5kT2ZNb250aCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSArIDEsIDAsIDIzLCA1OSkuZ2V0VGltZSgpO1xuXG4gICAgc3RhcnRDb3VudGRvd24oZW5kT2ZNb250aCk7XG5cblxuXG5cbiAgICBmdW5jdGlvbiBzdGFydFNtb2tlKGNhclNlbGVjdG9yLCBzbW9rZUNsYXNzLCBtYXhDb3VudCwgaW50ZXJ2YWwsIGRlbGF5LCBmYWRlVGltZSwgcmVtb3ZlRGVsYXksIGV4dHJhQ2xhc3MgPSAnJykge1xuICAgICAgICBjb25zdCBjYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFjYXIgfHwgIWNhci5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiX2FjdGl2ZVwiKSkgcmV0dXJuO1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTbW9rZSgpIHtcbiAgICAgICAgICAgIGlmIChjYXIucXVlcnlTZWxlY3RvckFsbChgLiR7c21va2VDbGFzc30ke2V4dHJhQ2xhc3MgPyBgLiR7ZXh0cmFDbGFzc31gIDogJyd9YCkubGVuZ3RoIDwgbWF4Q291bnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbW9rZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHNtb2tlLmNsYXNzTGlzdC5hZGQoc21va2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhQ2xhc3MpIHNtb2tlLmNsYXNzTGlzdC5hZGQoZXh0cmFDbGFzcyk7XG4gICAgICAgICAgICAgICAgY2FyLmFwcGVuZENoaWxkKHNtb2tlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNtb2tlLmNsYXNzTGlzdC5hZGQoXCJfb3BhY2l0eVwiKSwgZmFkZVRpbWUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc21va2UucmVtb3ZlKCksIGZhZGVUaW1lICsgcmVtb3ZlRGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZVNtb2tlKCk7XG4gICAgICAgIHNldFRpbWVvdXQoY3JlYXRlU21va2UsIGRlbGF5KTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgY3JlYXRlU21va2UoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY3JlYXRlU21va2UsIGRlbGF5KTtcbiAgICAgICAgfSwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBzdGFydFNtb2tlKCcucmFjZV9fYm9saWQtY2FyJywgJ3JhY2VfX2JvbGlkLXNtb2tlLWZyb250JywgMiwgOTAwLCA1MDAsIDEwMCwgODAwKTtcbiAgICBzdGFydFNtb2tlKCcucmFjZV9fYm9saWQtY2FyJywgJ3JhY2VfX2JvbGlkLXNtb2tlLWJhY2snLCA0LCA5MDAsIDUwMCwgMTAwLCA4MDApO1xuICAgIHN0YXJ0U21va2UoJy5yYWNlX19ib2xpZC1jYXInLCAncmFjZV9fYm9saWQtc21va2UtYmFjaycsIDIsIDkwMCwgNTAwLCAxMDAsIDgwMCwgXCJfbGFyZ2VcIik7XG5cblxuXG59KSgpIl19
