"use strict";

(function () {
  function startCountdown(endTime) {
    var daysEls = document.querySelectorAll(".timer__days-item");
    var hoursEls = document.querySelectorAll(".timer__hours-item");
    var minutesEls = document.querySelectorAll(".timer__minutes-item");
    function updateTimer() {
      var now = new Date().getTime();
      var timeLeft = endTime - now;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        updateDigits(daysEls, "00");
        updateDigits(hoursEls, "00");
        updateDigits(minutesEls, "00");
        return;
      }
      var days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
      var hours = Math.floor(timeLeft / (1000 * 60 * 60) % 24);
      var minutes = Math.floor(timeLeft / (1000 * 60) % 60);
      updateDigits(daysEls, String(days).padStart(2, "0"));
      updateDigits(hoursEls, String(hours).padStart(2, "0"));
      updateDigits(minutesEls, String(minutes).padStart(2, "0"));
    }
    function updateDigits(elements, value) {
      elements[0].textContent = value[0];
      elements[1].textContent = value[1];
    }
    updateTimer();
    var timerInterval = setInterval(updateTimer, 60000);
  }
  var now = new Date();
  var endOfMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0, 23, 59).getTime();
  startCountdown(endOfMonth);
  function startSmoke(carSelector, smokeClass, maxCount, interval, delay, fadeTime, removeDelay) {
    var extraClass = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : '';
    var car = document.querySelector(carSelector);
    function createSmoke() {
      if (!car || !car.parentElement.parentElement.classList.contains("_active")) return;
      if (car.querySelectorAll(".".concat(smokeClass).concat(extraClass ? ".".concat(extraClass) : '')).length < maxCount) {
        var smoke = document.createElement('div');
        smoke.classList.add(smokeClass);
        if (extraClass) smoke.classList.add(extraClass);
        car.appendChild(smoke);
        setTimeout(function () {
          return smoke.classList.add("_opacity");
        }, fadeTime);
        setTimeout(function () {
          return smoke.remove();
        }, fadeTime + removeDelay);
      }
    }
    createSmoke();
    setTimeout(createSmoke, delay);
    setInterval(function () {
      createSmoke();
      setTimeout(createSmoke, delay);
    }, interval);
  }
  startSmoke('.race__bolid-car', 'race__bolid-smoke-front', 2, 900, 500, 100, 800);
  startSmoke('.race__bolid-car', 'race__bolid-smoke-back', 4, 900, 500, 100, 800);
  startSmoke('.race__bolid-car', 'race__bolid-smoke-back', 2, 900, 500, 100, 800, "_large");
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic3RhcnRDb3VudGRvd24iLCJlbmRUaW1lIiwiZGF5c0VscyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImhvdXJzRWxzIiwibWludXRlc0VscyIsInVwZGF0ZVRpbWVyIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJ0aW1lTGVmdCIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lckludGVydmFsIiwidXBkYXRlRGlnaXRzIiwiZGF5cyIsIk1hdGgiLCJmbG9vciIsImhvdXJzIiwibWludXRlcyIsIlN0cmluZyIsInBhZFN0YXJ0IiwiZWxlbWVudHMiLCJ2YWx1ZSIsInRleHRDb250ZW50Iiwic2V0SW50ZXJ2YWwiLCJlbmRPZk1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInN0YXJ0U21va2UiLCJjYXJTZWxlY3RvciIsInNtb2tlQ2xhc3MiLCJtYXhDb3VudCIsImludGVydmFsIiwiZGVsYXkiLCJmYWRlVGltZSIsInJlbW92ZURlbGF5IiwiZXh0cmFDbGFzcyIsImNhciIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVTbW9rZSIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImxlbmd0aCIsInNtb2tlIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFlBQVc7RUFDUixTQUFTQSxjQUFjLENBQUNDLE9BQU8sRUFBRTtJQUM3QixJQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7SUFDOUQsSUFBTUMsUUFBUSxHQUFHRixRQUFRLENBQUNDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDO0lBQ2hFLElBQU1FLFVBQVUsR0FBR0gsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQztJQUVwRSxTQUFTRyxXQUFXLEdBQUc7TUFDbkIsSUFBTUMsR0FBRyxHQUFHLElBQUlDLElBQUksRUFBRSxDQUFDQyxPQUFPLEVBQUU7TUFDaEMsSUFBTUMsUUFBUSxHQUFHVixPQUFPLEdBQUdPLEdBQUc7TUFFOUIsSUFBSUcsUUFBUSxJQUFJLENBQUMsRUFBRTtRQUNmQyxhQUFhLENBQUNDLGFBQWEsQ0FBQztRQUM1QkMsWUFBWSxDQUFDWixPQUFPLEVBQUUsSUFBSSxDQUFDO1FBQzNCWSxZQUFZLENBQUNULFFBQVEsRUFBRSxJQUFJLENBQUM7UUFDNUJTLFlBQVksQ0FBQ1IsVUFBVSxFQUFFLElBQUksQ0FBQztRQUM5QjtNQUNKO01BRUEsSUFBTVMsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ04sUUFBUSxJQUFJLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO01BQ3pELElBQU1PLEtBQUssR0FBR0YsSUFBSSxDQUFDQyxLQUFLLENBQUVOLFFBQVEsSUFBSSxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFJLEVBQUUsQ0FBQztNQUM1RCxJQUFNUSxPQUFPLEdBQUdILElBQUksQ0FBQ0MsS0FBSyxDQUFFTixRQUFRLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxHQUFJLEVBQUUsQ0FBQztNQUV6REcsWUFBWSxDQUFDWixPQUFPLEVBQUVrQixNQUFNLENBQUNMLElBQUksQ0FBQyxDQUFDTSxRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO01BQ3BEUCxZQUFZLENBQUNULFFBQVEsRUFBRWUsTUFBTSxDQUFDRixLQUFLLENBQUMsQ0FBQ0csUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztNQUN0RFAsWUFBWSxDQUFDUixVQUFVLEVBQUVjLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDLENBQUNFLFFBQVEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDOUQ7SUFFQSxTQUFTUCxZQUFZLENBQUNRLFFBQVEsRUFBRUMsS0FBSyxFQUFFO01BQ25DRCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNFLFdBQVcsR0FBR0QsS0FBSyxDQUFDLENBQUMsQ0FBQztNQUNsQ0QsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRSxXQUFXLEdBQUdELEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDdEM7SUFFQWhCLFdBQVcsRUFBRTtJQUNiLElBQU1NLGFBQWEsR0FBR1ksV0FBVyxDQUFDbEIsV0FBVyxFQUFFLEtBQUssQ0FBQztFQUN6RDtFQUVBLElBQU1DLEdBQUcsR0FBRyxJQUFJQyxJQUFJLEVBQUU7RUFDdEIsSUFBTWlCLFVBQVUsR0FBRyxJQUFJakIsSUFBSSxDQUFDRCxHQUFHLENBQUNtQixXQUFXLEVBQUUsRUFBRW5CLEdBQUcsQ0FBQ29CLFFBQVEsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDbEIsT0FBTyxFQUFFO0VBRXZGVixjQUFjLENBQUMwQixVQUFVLENBQUM7RUFLMUIsU0FBU0csVUFBVSxDQUFDQyxXQUFXLEVBQUVDLFVBQVUsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxXQUFXLEVBQW1CO0lBQUEsSUFBakJDLFVBQVUsdUVBQUcsRUFBRTtJQUMxRyxJQUFNQyxHQUFHLEdBQUduQyxRQUFRLENBQUNvQyxhQUFhLENBQUNULFdBQVcsQ0FBQztJQUUvQyxTQUFTVSxXQUFXLEdBQUc7TUFDbkIsSUFBSSxDQUFDRixHQUFHLElBQUksQ0FBQ0EsR0FBRyxDQUFDRyxhQUFhLENBQUNBLGFBQWEsQ0FBQ0MsU0FBUyxDQUFDQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQUU7TUFDNUUsSUFBSUwsR0FBRyxDQUFDbEMsZ0JBQWdCLFlBQUsyQixVQUFVLFNBQUdNLFVBQVUsY0FBT0EsVUFBVSxJQUFLLEVBQUUsRUFBRyxDQUFDTyxNQUFNLEdBQUdaLFFBQVEsRUFBRTtRQUMvRixJQUFNYSxLQUFLLEdBQUcxQyxRQUFRLENBQUMyQyxhQUFhLENBQUMsS0FBSyxDQUFDO1FBQzNDRCxLQUFLLENBQUNILFNBQVMsQ0FBQ0ssR0FBRyxDQUFDaEIsVUFBVSxDQUFDO1FBQy9CLElBQUlNLFVBQVUsRUFBRVEsS0FBSyxDQUFDSCxTQUFTLENBQUNLLEdBQUcsQ0FBQ1YsVUFBVSxDQUFDO1FBQy9DQyxHQUFHLENBQUNVLFdBQVcsQ0FBQ0gsS0FBSyxDQUFDO1FBQ3RCSSxVQUFVLENBQUM7VUFBQSxPQUFNSixLQUFLLENBQUNILFNBQVMsQ0FBQ0ssR0FBRyxDQUFDLFVBQVUsQ0FBQztRQUFBLEdBQUVaLFFBQVEsQ0FBQztRQUMzRGMsVUFBVSxDQUFDO1VBQUEsT0FBTUosS0FBSyxDQUFDSyxNQUFNLEVBQUU7UUFBQSxHQUFFZixRQUFRLEdBQUdDLFdBQVcsQ0FBQztNQUM1RDtJQUNKO0lBQ0FJLFdBQVcsRUFBRTtJQUNiUyxVQUFVLENBQUNULFdBQVcsRUFBRU4sS0FBSyxDQUFDO0lBQzlCVCxXQUFXLENBQUMsWUFBTTtNQUNkZSxXQUFXLEVBQUU7TUFDYlMsVUFBVSxDQUFDVCxXQUFXLEVBQUVOLEtBQUssQ0FBQztJQUNsQyxDQUFDLEVBQUVELFFBQVEsQ0FBQztFQUNoQjtFQUNBSixVQUFVLENBQUMsa0JBQWtCLEVBQUUseUJBQXlCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztFQUNoRkEsVUFBVSxDQUFDLGtCQUFrQixFQUFFLHdCQUF3QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7RUFDL0VBLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQztBQUk3RixDQUFDLEdBQUciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKXtcbiAgICBmdW5jdGlvbiBzdGFydENvdW50ZG93bihlbmRUaW1lKSB7XG4gICAgICAgIGNvbnN0IGRheXNFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRpbWVyX19kYXlzLWl0ZW1cIik7XG4gICAgICAgIGNvbnN0IGhvdXJzRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50aW1lcl9faG91cnMtaXRlbVwiKTtcbiAgICAgICAgY29uc3QgbWludXRlc0VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGltZXJfX21pbnV0ZXMtaXRlbVwiKTtcblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVUaW1lcigpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgdGltZUxlZnQgPSBlbmRUaW1lIC0gbm93O1xuXG4gICAgICAgICAgICBpZiAodGltZUxlZnQgPD0gMCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGlnaXRzKGRheXNFbHMsIFwiMDBcIik7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGlnaXRzKGhvdXJzRWxzLCBcIjAwXCIpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZURpZ2l0cyhtaW51dGVzRWxzLCBcIjAwXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IodGltZUxlZnQgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICAgICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKCh0aW1lTGVmdCAvICgxMDAwICogNjAgKiA2MCkpICUgMjQpO1xuICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWVMZWZ0IC8gKDEwMDAgKiA2MCkpICUgNjApO1xuXG4gICAgICAgICAgICB1cGRhdGVEaWdpdHMoZGF5c0VscywgU3RyaW5nKGRheXMpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG4gICAgICAgICAgICB1cGRhdGVEaWdpdHMoaG91cnNFbHMsIFN0cmluZyhob3VycykucGFkU3RhcnQoMiwgXCIwXCIpKTtcbiAgICAgICAgICAgIHVwZGF0ZURpZ2l0cyhtaW51dGVzRWxzLCBTdHJpbmcobWludXRlcykucGFkU3RhcnQoMiwgXCIwXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZURpZ2l0cyhlbGVtZW50cywgdmFsdWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzWzBdLnRleHRDb250ZW50ID0gdmFsdWVbMF07XG4gICAgICAgICAgICBlbGVtZW50c1sxXS50ZXh0Q29udGVudCA9IHZhbHVlWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlVGltZXIoKTtcbiAgICAgICAgY29uc3QgdGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVRpbWVyLCA2MDAwMCk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBlbmRPZk1vbnRoID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpICsgMSwgMCwgMjMsIDU5KS5nZXRUaW1lKCk7XG5cbiAgICBzdGFydENvdW50ZG93bihlbmRPZk1vbnRoKTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIHN0YXJ0U21va2UoY2FyU2VsZWN0b3IsIHNtb2tlQ2xhc3MsIG1heENvdW50LCBpbnRlcnZhbCwgZGVsYXksIGZhZGVUaW1lLCByZW1vdmVEZWxheSwgZXh0cmFDbGFzcyA9ICcnKSB7XG4gICAgICAgIGNvbnN0IGNhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyU2VsZWN0b3IpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNtb2tlKCkge1xuICAgICAgICAgICAgaWYgKCFjYXIgfHwgIWNhci5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiX2FjdGl2ZVwiKSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGNhci5xdWVyeVNlbGVjdG9yQWxsKGAuJHtzbW9rZUNsYXNzfSR7ZXh0cmFDbGFzcyA/IGAuJHtleHRyYUNsYXNzfWAgOiAnJ31gKS5sZW5ndGggPCBtYXhDb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNtb2tlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgc21va2UuY2xhc3NMaXN0LmFkZChzbW9rZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFDbGFzcykgc21va2UuY2xhc3NMaXN0LmFkZChleHRyYUNsYXNzKTtcbiAgICAgICAgICAgICAgICBjYXIuYXBwZW5kQ2hpbGQoc21va2UpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc21va2UuY2xhc3NMaXN0LmFkZChcIl9vcGFjaXR5XCIpLCBmYWRlVGltZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzbW9rZS5yZW1vdmUoKSwgZmFkZVRpbWUgKyByZW1vdmVEZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlU21va2UoKTtcbiAgICAgICAgc2V0VGltZW91dChjcmVhdGVTbW9rZSwgZGVsYXkpO1xuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjcmVhdGVTbW9rZSgpO1xuICAgICAgICAgICAgc2V0VGltZW91dChjcmVhdGVTbW9rZSwgZGVsYXkpO1xuICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgfVxuICAgIHN0YXJ0U21va2UoJy5yYWNlX19ib2xpZC1jYXInLCAncmFjZV9fYm9saWQtc21va2UtZnJvbnQnLCAyLCA5MDAsIDUwMCwgMTAwLCA4MDApO1xuICAgIHN0YXJ0U21va2UoJy5yYWNlX19ib2xpZC1jYXInLCAncmFjZV9fYm9saWQtc21va2UtYmFjaycsIDQsIDkwMCwgNTAwLCAxMDAsIDgwMCk7XG4gICAgc3RhcnRTbW9rZSgnLnJhY2VfX2JvbGlkLWNhcicsICdyYWNlX19ib2xpZC1zbW9rZS1iYWNrJywgMiwgOTAwLCA1MDAsIDEwMCwgODAwLCBcIl9sYXJnZVwiKTtcblxuXG5cbn0pKCkiXX0=
